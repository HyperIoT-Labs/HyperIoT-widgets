import {
  Component, ViewEncapsulation
} from '@angular/core';

import { DataPacketFilter, DataStreamService } from '@hyperiot/core';

import { PlotlyService } from 'angular-plotly.js';
import { WidgetsService } from '../widgets.service';

import { WidgetChartComponent } from '../widget-chart.component';
import { TimeSeries } from '../data/time-series';

@Component({
  selector: 'hyperiot-fourier-chart',
  templateUrl: './fourier-chart.component.html',
  styleUrls: ['../../../../../src/assets/widgets/styles/widget-commons.css', './fourier-chart.component.scss'],
  encapsulation: ViewEncapsulation.None
})
export class FourierChartComponent extends WidgetChartComponent {
  private chartData: TimeSeries[] = [];

  callBackEnd = false;

  lastSampleTick = 0;
  samplesDuration = 0;
  samplesSize = [];

  // Sample data
  private fourierData = [
    8.479464000000014,
    6.376840060777789,
    6.199690015942998,
    7.499315291944571,
    6.037403764822293,
    9.551371664564506,
    10.614943075258482,
    14.564702690239887,
    16.12046020303796,
    20.03979533086322,
    25.61355979115617,
    32.71121711867295,
    44.30889143412377,
    62.15270626531659,
    101.27472280136142,
    244.31322690428624,
    830.1730273642402,
    161.89782626373923,
    92.29601182482239,
    66.055703137985,
    51.3258877319093,
    43.24538130797402,
    38.50944461120978,
    34.4925100470852,
    31.426836790973084,
    28.86990852260631,
    26.42293896845294,
    26.381591467410626,
    27.335167638740295,
    29.818043914407465,
    31.789440326160143,
    50.46411118638549,
    201.17173789019193,
    11.061907880535971,
    0.2175324541749531,
    4.136176824131667,
    6.268577748089264,
    6.496288245156383,
    6.068642200362916,
    8.26983323745845,
    9.43544639618031,
    8.6002248606578,
    6.379888651132763,
    5.61395199080143,
    5.259634666558378,
    5.685461834449275,
    1.8145768841049625,
    8.194976956095259,
    20.88674237728434,
    8.899522776666771,
    8.033846844415233,
    8.7259521313812,
    8.924099501455562,
    6.399626785681172,
    6.982213210217894,
    5.555328466424973,
    5.032894945399716,
    7.37288320019924,
    6.205790693457685,
    5.923939826551066,
    6.905283885546141,
    5.087393011654385,
    5.483976697661505,
    4.844731794721928,
    5.545203683478954,
    5.217535619121737,
    4.631306381343265,
    5.47523182168953,
    5.15280892142131,
    4.532642523670659,
    8.126825701912967,
    5.956544298267866,
    4.628636558560825,
    3.9234433237442548,
    5.8144923239670545,
    5.196479202482112,
    4.400268457426818,
    3.180968001600431,
    4.303798920467589,
    4.767352899294621,
    3.779137298182903,
    4.836990589222903,
    4.329664505972064,
    4.215815630091581,
    4.0426653782878095,
    3.903263092276392,
    4.578700594434384,
    2.2282808886920757,
    4.049599552430767,
    3.582719289983081,
    2.3882526591818274,
    3.294107866362202,
    3.6113396436981327,
    5.144872890909854,
    5.772661410293594,
    5.327672337095571,
    3.387123784181498,
    3.431733956308664,
    2.3488451520413522,
    3.3349054722586264,
    3.086738395649776,
    3.387519663627396,
    2.1479071036342012,
    2.8770070823733067,
    3.0865699778868767,
    2.944427893758092,
    3.069576014084341,
    2.491470604138605,
    4.956490667053693,
    2.429201258874377,
    3.2351592241609306,
    3.7609973772035854,
    4.207184931342361,
    1.988840975378664,
    3.685025831670769,
    2.13641457437422,
    3.231382667175264,
    1.820679329584174,
    1.9813004970713064,
    3.90848449031628,
    1.5177544525522397,
    3.4576522061075923,
    2.7788071741448666,
    1.652228501190959,
    2.7989126320456164,
    4.310750042123214,
    3.7618204797170027,
    2.681411034771133,
    2.607283893425938,
    3.9716334581995394,
    1.9006279173102432,
    3.4350651680044946,
    2.8673831314927343,
    3.0173260057549887,
    4.401665965647522,
    3.349881475409694,
    2.8814415485140077,
    2.2111584321805258,
    4.1277131881733595,
    2.3578755433637286,
    4.274867163365898,
    1.108874359675041,
    2.8037163691218856,
    3.9873312798371794,
    3.2914747310789814,
    1.4044930332082795,
    2.518212249586524,
    3.5267192737463957,
    3.096443286330223,
    2.2251222956993195,
    4.524077268176429,
    1.9950481941215705,
    1.9537893358107872,
    2.730079517419816,
    1.691616018371835,
    2.655055375216815,
    2.1365803715162968,
    2.174000411190863,
    2.5110363522905526,
    4.436157248775143,
    2.6783917390332808,
    3.9582311889144224,
    3.5142495171078476,
    2.4723071976405677,
    1.5911333229210378,
    3.1287930709344267,
    2.1140452347491063,
    2.9802805327301063,
    2.3939446930754795,
    1.913519422329575,
    2.579629547215865,
    3.5421917582135674,
    3.2238024371528207,
    2.3370357682234175,
    0.4582983961062332,
    4.55445372704036,
    1.3036710861429104,
    2.216934986346095,
    1.7574453359831999,
    2.304254493074582,
    1.5298165799400811,
    2.449702094741652,
    1.277409234519115,
    0.8237424067082555,
    2.5992746517557856,
    1.5753894511060424,
    2.8035725065019212,
    1.4592682150323537,
    2.349234533883603,
    2.496786644615968,
    3.4630393834843542,
    5.015364930497989,
    0.9894388457196983,
    2.9378797827086554,
    3.975887135073229,
    3.219774157123157,
    3.1234575649435734,
    2.0985850941864674,
    2.5230313236797284,
    2.1951322540836102,
    2.4505942539438124,
    3.1980390039216076,
    0.7167127417382915,
    12.790036073030318,
    5.457690869712511,
    7.760788993613043,
    4.168274030822604,
    4.381963678814741,
    6.074873290720616,
    15.746596103376271,
    8.570790958285635,
    1.9418622150768856,
    0.6535403013922948,
    0.6259287530847734,
    0.3043994079442747,
    1.9168368181311617,
    2.818807162578538,
    2.3835080847922887,
    0.6646573731961237,
    1.4234387995084383,
    1.2353443092332772,
    3.514354137562255,
    1.661121952243709,
    24.38326152322561,
    3.570745508170832,
    0.7989864198067179,
    1.7455497234771786,
    1.451145279112039,
    1.4955856036721558,
    2.9407956551992607,
    3.126511535159259,
    2.4038331329592917,
    3.1249173161103996,
    0.6153843819120194,
    2.709940668988533,
    4.31873687264109,
    9.355633922329954,
    9.535897424592545,
    6.117315879737512,
    9.88312214127931,
    1.6898880252841497,
    0.935716426616161,
    1.4984582719554245,
    0.9824066814276765,
    3.6545829884745333,
    1.5088575841638674,
    1.7467706492793766,
    0.9762880691303122,
    0.34468464618322936,
    1.1556018017024017,
    1.7891078723434655,
    0.9921178269976656,
    1.141085743527906,
    0.6827406171442986,
    1.0816675637263165,
    10.706454129668368,
    2.724394680852831,
    2.938054159687049,
    2.885291593894144,
    2.6583190050057843,
    1.2425887545285206,
    1.759351778619989,
    1.9693533563147496,
    2.574879314596678,
    1.6225189543938598,
    0.8454992039074832,
    2.482463758828388,
    1.1252410368235164,
    4.426467553103705,
    2.436687941474619,
    3.4905962911685235,
    1.6926791090397333,
    0.7852632508513621,
    1.701417767447954,
    1.517868510299894,
    0.8045738475013904,
    1.4110176631112585,
    2.920079824533748,
    0.5466886422040979,
    2.490699644062059,
    1.7471093691073492,
    1.564360949480205,
    1.2880608195106784,
    1.9855030175199229,
    1.338232566987005,
    1.8097305399950863,
    1.1508452589840263,
    4.480910845239453,
    2.791327221723262,
    0.9072545570280569,
    2.0920628384997655,
    1.5599521968876529,
    2.028709794939301,
    0.5272129208843745,
    0.9167725544615023,
    0.6488469307215832,
    0.9353951346360473,
    1.4271694756822442,
    1.3353989858654391,
    0.8148793321370863,
    1.4718113876652397,
    2.4673666018359888,
    2.316218007584576,
    1.8865224391923834,
    1.2076584597434754,
    2.4920317234416554,
    1.1550471986479878,
    1.2780619537693698,
    0.21983930253932518,
    1.39636295405197,
    0.3101489000851094,
    1.1140668075854114,
    0.7464934748350605,
    1.537607822172247,
    1.4093964052292198,
    2.4844832764160474,
    1.792940045259721,
    1.9803383398488945,
    2.840651800706637,
    1.5938294596624227,
    3.0342814489680245,
    0.7283849509818826,
    2.8624539448591397,
    1.9718905549380095,
    2.0936991148857844,
    2.1382867177956406,
    0.7751400021602783,
    2.3298168133528003,
    1.3546523442565537,
    1.113360629749116,
    1.5464512263636034,
    1.2204617036640066,
    2.7742056466367693,
    1.7544733939649386,
    1.3340564537759996,
    1.4841263409443286,
    1.425135532474563,
    1.3518599959010644,
    1.768076236472219,
    1.8539357171141222,
    1.709429562012652,
    1.2033913832281105,
    1.703429733363002,
    2.055330270294177,
    0.838357258319704,
    0.47294506190340824,
    1.7008390879557849,
    1.055316630346115,
    2.2814664199356525,
    1.6078210730461615,
    1.083234165632699,
    0.9120501064525319,
    1.927882088980547,
    3.387306376447666,
    1.7006558422819762,
    1.4947318794189803,
    3.022741340033164,
    1.4169854264215551,
    2.5136781212766137,
    4.7663137176516175,
    1.1989798048947458,
    1.0372017829512925,
    1.667601863936699,
    2.529061723344139,
    2.0364636215013507,
    0.6752738575426187,
    2.106593584284609,
    2.391601424380516,
    2.266781158799414,
    2.2226600568146497,
    2.72526129570407,
    1.1141155315204858,
    1.0614658798862204,
    1.0474941877594934,
    2.4958898645760534,
    2.8625502308165087,
    0.940878461918513,
    1.574779604706051,
    1.8109355829895306,
    2.2085430203298637,
    0.6980743563575894,
    1.9797366896097794,
    1.2288875158323773,
    1.5072425254785744,
    0.27493073873080054,
    0.38838675062549094,
    0.6252496065390906,
    0.8641543504926038,
    0.8533740899724166,
    1.295777459151895,
    0.37491010205804115,
    0.8037485012595442,
    1.3863783772294143,
    0.7847568381129691,
    2.2330701520893737,
    0.5908679167454911,
    0.5758441866131896,
    0.9900789171288104,
    1.4869935064639013,
    1.6610183570194226,
    0.6945225331568453,
    0.9303693983376979,
    1.3150465895916206,
    0.6488298052645902,
    1.0536319499802917,
    0.40828601408682275,
    0.6509566565967776,
    1.3264523903361833,
    0.5813387907192651,
    0.5003589774846339,
    3.982750503348657,
    3.241141916783256,
    1.2840938667636916,
    2.2795229618680293,
    2.513626282081091,
    1.767298998062271,
    1.1237311737662483,
    1.5561416833282453,
    1.0760145153506222,
    1.6505526714916232,
    2.3066581673992843,
    0.5997505133159337,
    0.4473575970866795,
    1.283143718187124,
    1.1309979987455239,
    2.531821933034116,
    1.0039642389236147,
    0.2729199942638998,
    0.5330822699204819,
    2.2473198686991642,
    0.6960882201069093,
    1.989263569808792,
    2.027717604580923,
    3.1354715913246585,
    0.3399767516308971,
    0.15074009935025068,
    0.3878253435656455,
    1.0467247338229755,
    0.8684971790254442,
    1.9433075811164857,
    3.076925046386146,
    2.316524322914053,
    1.7696209233545168,
    1.4047011218133438,
    1.2799138062124211,
    0.7660161363981398,
    2.8729818802047298,
    0.1884303093871973,
    1.252706114384616,
    1.4958280084442928,
    1.455369631273109,
    1.1414879844065549,
    2.2484576001656515,
    2.0118452163330875,
    1.4301572118791182,
    0.8974202515677624,
    0.8568578396069957,
    2.2365592237702665,
    2.3091311659321327,
    1.71693547843624,
    0.5707390087269807,
    0.7552425030546024,
    1.7668015718626813,
    0.955882626983726,
    0.5543115856344659,
    1.4598865206180787,
    2.8916981278544935,
    0.502890179157692,
    2.3064986667582774,
    1.4458522692232036,
    3.1885393942017797,
    2.309673430746884,
    4.106909067950024,
    1.7892856742282957,
    0.45915693650994543,
    2.0680032664626737,
    1.7779377413638873,
    1.8508827659099638,
    2.9732330959390807,
    2.0875596389171536,
    1.3855255120689383,
    1.8161527366966568,
    1.349725229060684,
    1.2560332014159905,
    1.0964484316299972,
    1.6634973732576097,
    1.4048446055021375,
    1.6280275147526602,
    0.5538374706443003,
    1.4940718575605847,
    1.9020966053751587,
    1.424359270419815,
    1.195517948573019,
    0.3624723287511123,
    0.44335881382727693,
    0.5566441924018034,
    0.7759338571828625,
    1.6854828340039976,
    0.8277909709019992,
    2.199508028461447,
    0.8126575347940903,
    1.991332021453462,
    2.1456933651978347,
    4.567027033284076,
    24.788653746596616,
    9.704579935970848,
    2.480615281056704,
    1.2781512499372774,
    1.3722790400374458,
    3.174108144584818,
    3.26457867218512,
    1.212334086433969,
    2.143716927792494,
    2.867047663580569,
    0.8032524033706915,
    1.2985016103237126,
    1.6996029629415939,
    2.3592333417679137,
    0.8169812044469891,
    0.5884068520824499,
    3.7855018734319876,
    1.9629173969469056,
    2.9165014437878103,
    2.674632411500402,
    2.3096605053401356,
    1.3945663954626835,
    2.421367153657625,
    7.107121144284961,
    3.0276331507802294,
    1.109741405873433,
    0.6925157604233076,
    2.198475031189179,
    2.5878277052579626,
    3.8694015410944824,
    3.605944982804246,
    7.728734332674029,
    45.972303301626155,
    8.559228562657351,
    2.500416808257978,
    1.4884465191954885,
    0.5746782880007145,
    0.9731672169939112,
    1.6069429443451484,
    4.167248273635726,
    0.33025399206792666,
    3.4796022170952137,
    2.221604732809406,
    0.5899140611492144,
    1.5722864891034487,
    0.24077722241396537,
    1.5731679319201841,
    1.5606303380813393,
    10.550018567538455,
    2.448748078224587,
    2.8884329883428084,
    1.5424689660276028,
    2.564347500465075,
    1.5781859724701681,
    1.6579403507998245,
    3.222381117802869,
    2.330627862175687,
    0.8749143930824399,
    0.8893025503216953,
    1.0050085045198913,
    0.3722240317654435,
    2.7698221116376494,
    2.252081852174935,
    5.695940658368456,
    45.14722276418862,
    7.873435405583653,
    2.0661758148957015,
    2.1208988891358223,
    1.845249675890471,
    0.6006121622220932,
    9.288747827953106,
    3.2439772003389877,
    2.0694848569476854,
    0.6357380724837227,
    1.1880787987624069,
    1.4586206085499178,
    0.599808515944302,
    0.2695364504550108,
    1.4450924004225485,
    1.9141132719054637,
    1.4810580660387171,
    0.5723682300551965,
    3.739258160895263,
    1.2752961741669184,
    2.387954171725405,
    1.8315395021329468,
    0.458086063263706,
    0.7795714784112947,
    0.6502951430162511,
    0.8871287639180581,
    0.4414555377367658,
    1.4375828195630613,
    2.1377382130535465,
    1.570293951779179,
    1.028084606455518,
    2.1593760605442944,
    9.506999257077611,
    2.2834607876175412,
    1.4993298450252788,
    1.8879468994118849,
    0.8403498124125507,
    0.720375521457439,
    0.144721767754761,
    0.22304392308462717,
    1.8923673476471934,
    1.571996067679537,
    0.5662704101300293,
    0.4849316606837341,
    0.3839457871023993,
    1.4095563436721859,
    1.4876799281978001,
    3.682004339279772,
    2.4471957809862404,
    1.57480847545661,
    0.745493337718464,
    1.5774631235092034,
    1.0264305394885551,
    0.8679746645555433,
    1.6370726950032446,
    0.4401195865122752,
    0.5252790395694489,
    1.0143315831717648,
    1.0383703475643178,
    0.9471326189258467,
    2.290895862429523,
    2.3075864953679965,
    2.621938338185337,
    11.054031386735039,
    20.27614368631711,
    6.270336491209478,
    5.051528291247029,
    0.6678220356029685,
    2.4241034647257584,
    2.5422253750564296,
    2.2689578825552013,
    1.3622806678739359,
    0.5276930189448963,
    1.463770658892261,
    0.6026765956883569,
    1.1923138830066113,
    2.5505364136036417,
    1.1200108975900767,
    1.970981268425063,
    1.6063658339156257,
    1.3439667293389872,
    2.87070218962791,
    1.5230019397822354,
    1.270019460094387,
    1.565078900420611,
    4.2605123576081105,
    2.518177292196451,
    2.147481872875983,
    1.0019900744546002,
    1.4031067706880282,
    1.6225850480406703,
    2.163427473497449,
    1.6572542770346979,
    0.9528916138880135,
    1.3896550315040903,
    3.1725299981460586,
    3.9999787680340795,
    1.6544798732537085,
    0.648479678650394,
    0.635851861404136,
    1.03007803139506,
    1.0561741142976107,
    0.7817142972975545,
    1.1727493337135577,
    1.9950417879350806,
    0.6637251367300099,
    1.4626272186191502,
    2.5485048459933006,
    1.1051654321816051,
    2.070424696709784,
    1.9847647990350208,
    0.6329522759491535,
    1.0168674267712445,
    1.358142078544338,
    3.0035056204438226,
    2.7705061384234613,
    1.4716501360708112,
    0.6922315562275757,
    2.5065425805055495,
    1.735776799285196,
    2.4869791379306094,
    1.0888262495198007,
    2.4743751506834193,
    1.6398774077628249,
    0.5646413704988392,
    1.170819285797173,
    0.9002432166250947,
    1.4884497193419126,
    1.4703425348676562,
    0.8958342052802547,
    0.5247725552560177,
    2.318996144322344,
    1.1794808362963045,
    1.2658709451745402,
    1.5930344108335153,
    1.0125307669061778,
    0.8301296686213687,
    1.6416178914352981,
    1.9526448288572424,
    2.3192064759770394,
    1.367361638009679,
    1.8318153939815955,
    2.006566507645116,
    2.1044765587661427,
    1.7317075487029654,
    1.5369713391584328,
    2.5975109514859196,
    2.607911171976881,
    1.3873197898061633,
    1.8264780277340162,
    1.1619533947989993,
    1.6760871174806071,
    0.8273722088932117,
    0.24144963610941986,
    0.8413401166137463,
    1.5658020735129439,
    1.0010587366895671,
    2.279038511603432,
    1.4293425516736313,
    3.4359724560211875,
    1.6670406275038323,
    2.188568468416166,
    2.1439203673747613,
    1.5827685452358964,
    1.7940166224712233,
    0.5484282262308117,
    0.9235929714648915,
    1.0022834465551826,
    2.3940371829979297,
    2.114743977171832,
    1.1596622651951831,
    0.11121837580840867,
    1.486001456356352,
    1.7158508120902687,
    0.6800794810216683,
    0.8001121194500828,
    0.8833177481431601,
    1.0588825942046622,
    2.302595230801957,
    2.928192383481071,
    3.9437563622495886,
    3.9006919838507867,
    0.1938262992532812,
    1.7704333168161295,
    2.1628012871848696,
    2.917106505342859,
    3.109516072601363,
    3.143238546918942,
    0.9900761573401806,
    2.0421278285541185,
    1.1367685201733224,
    1.6535464136239966,
    0.3173603418514556,
    1.7029332446877183,
    1.61367347079347,
    1.7072979905410863,
    0.9749349127376847,
    0.967374702297637,
    4.067500073731321,
    1.5338173432082798,
    2.7872309533494155,
    2.9210585269406755,
    4.475486587408118,
    4.808157103534617,
    3.792894856003011,
    4.01620944006909,
    2.2567287136172003,
    1.191849285456037,
    4.208327701127558,
    3.326985565351058,
    1.3766037105480438,
    1.3435779963984091,
    0.8111125658044376,
    2.2254090444228702,
    2.4636609847279343,
    0.6763631474471066,
    1.4564109472769744,
    0.5770485466932012,
    2.2456454570370847,
    1.7121412485430885,
    1.8756849647097227,
    2.2017177228079303,
    1.9304492552316745,
    2.080600955324861,
    1.1706271526460754,
    1.5818084734316384,
    1.3445049171723609,
    1.136828582425033,
    0.9399857737548802,
    2.5849911169354223,
    0.17409593136962442,
    0.972094047489167,
    0.8062291774583161,
    1.2525685801371127,
    0.3670426962767112,
    3.356456305758704,
    2.7663650731096876,
    1.4045617359484726,
    1.537864668547913,
    1.8133507133068514,
    3.640814020843631,
    3.398721336837959,
    2.1394884676115398,
    1.8502408491352116,
    2.4530813784427807,
    1.448517297340883,
    1.429197605535602,
    1.0159851797145971,
    2.9772083537659557,
    4.635419278405209,
    2.561759221766277,
    1.0613639214635975,
    1.3273540639370371,
    2.356091744296856,
    4.2744421755172475,
    3.4974736936631614,
    0.7196449592293084,
    1.1773525919824543,
    1.6267862991006192,
    1.3774441262648824,
    1.3698163106920649,
    2.046770919503498,
    0.2261134406428298,
    1.1541034945411175,
    1.225281198789777,
    1.3004684356664529,
    1.1734791546032362,
    5.285397815339274,
    0.7682153810035678,
    7.040992362135267,
    6.811850746221227,
    2.8487712050736893,
    2.9404434153386876,
    2.192201719290331,
    2.7735698114894434,
    2.4263560971916562,
    0.79975323838221,
    1.1628903163687438,
    1.0756070450694133,
    0.9526040249555475,
    5.875108093796801,
    1.4559558019650671,
    1.3992141953712138,
    0.4751732945474908,
    4.2230245009407295,
    2.1940293267326156,
    3.6766002019287254,
    1.8918261439137265,
    1.7709298034567793,
    2.3328457926961232,
    3.897884635236993,
    2.584922871974675,
    1.9294111289200881,
    2.1735915007262783,
    3.609745410220563,
    1.8311721933751857,
    1.2394292992722973,
    1.435235126875175,
    1.4791620235592475,
    1.975629322380285,
    2.5017391173841528,
    2.5482672668131445,
    3.2582746562865723,
    2.015507713990954,
    3.7572952284912873,
    2.681121783929437,
    3.3230917958909427,
    1.3978959619066997,
    1.9773597294433938,
    1.9486571506118857,
    1.838693810988035,
    1.9636920330084602,
    1.2814727724556843,
    1.341600871508737,
    1.4625868445859949,
    1.6462513303415576,
    2.6241017048603688,
    0.6820027983766416,
    0.8210686109621838,
    2.1532111267208682,
    3.4668792121392666,
    1.844626666233321,
    1.6171811961192286,
    2.313351700018186,
    3.2458636293332526,
    2.0867767408562745,
    1.5130238021176634,
    3.04416875203086,
    1.9264658142774194,
    0.5219913934885094,
    1.8100706639989963,
    1.8994580028110752,
    1.0562276592821849,
    1.5226600846819869,
    1.5593118518896458,
    1.0260460240003608,
    0.6802427641625014,
    2.7577704889052694,
    2.3568996928855075,
    2.3160738032277104,
    6.255816422573965,
    2.13905214688015,
    1.3379349251470207,
    2.2289891493538647,
    2.176357503325329,
    4.293999386841907,
    2.494865148457092,
    0.266366188380639,
    3.894085803815192,
    3.355741257773489,
    1.1239339642486728,
    1.3296929011574532,
    0.39807659772491005,
    4.273233851778317,
    1.7890163255363762,
    3.0654590740401995,
    2.685397784506543,
    2.293753969743851,
    2.2810485620815624,
    2.565407587507803,
    2.779125516341706,
    1.6431632437610424,
    2.300561978025324,
    1.8441890401030954,
    2.3734736815105775,
    3.1673416459955,
    2.037643945084485,
    0.4400273176675815,
    1.8140730877320494,
    2.7302494692290233,
    2.980917603665235,
    4.749628819393225,
    1.1214389770423325,
    0.8086804701395206,
    1.546201171946049,
    0.32029686078550695,
    5.373943835993744,
    1.2161221961247066,
    0.7477510509903966,
    1.3264268699644395,
    2.0675725093396995,
    1.509554816714618,
    2.0697425942764847,
    0.10396981089489758,
    1.8315956598944951,
    2.1678433119381864,
    2.307042259745177,
    2.334018161979225,
    1.1554501292499362,
    2.503256884509358,
    0.990048128444166,
    1.0679566207873343,
    1.225023422518553,
    3.2966762219268877,
    1.0232434070699434,
    0.03760167428656379,
    2.423890047862809,
    2.0748483940405436,
    0.829827779759959,
    1.210065273063628,
    1.261146008425419,
    3.922442366268329,
    4.473181675353749,
    3.8671910832898635,
    1.6650311234745923,
    1.2323013881525564,
    1.296171607098009,
    1.376730546179367,
    8.642480491126939,
    3.447751919042685,
    2.3210730018686005,
    1.4356677525736807,
    2.4607390205284654,
    1.5508750054093334,
    2.356781908640424,
    1.7978788113857822,
    1.2558384136888776,
    0.21309672906969587,
    2.2147619288543163,
    2.234392976404525,
    1.810014709992982,
    1.5722909313245854,
    2.2618117037465106,
    2.349477831302572,
    0.5215232698145166,
    2.4829404298055597,
    0.34824174797527346,
    1.126234985755867,
    0.422798292215957,
    0.9097703747188299,
    1.1394392370422084,
    0.7961813777322307,
    2.062751854667148,
    1.2963638192724654,
    0.4931110270260423,
    1.1096938584606404,
    1.2971687018173916,
    2.537413869232552,
    2.2318666631824913,
    4.828809921430349,
    3.366798004091603,
    4.58851756772014,
    0.8843631121549318,
    2.2381285324487115,
    2.692164966268293,
    1.5420746024473995,
    0.7177675842823743,
    1.4526003207783815,
    1.4359780379053673,
    1.4302575035870222,
    2.6001277276441677,
    0.687360204426879,
    2.2640475951847603,
    1.5922117026542282,
    1.1823273818251503,
    2.94699573484209,
    1.5928519999999855,
    2.9469957348420284,
    1.1823273818251645,
    1.592211702654178,
    2.2640475951847647,
    0.6873602044268896,
    2.6001277276441015,
    1.4302575035870853,
    1.4359780379054894,
    1.4526003207785374,
    0.7177675842821377,
    1.542074602447587,
    2.692164966268097,
    2.2381285324488633,
    0.8843631121541872,
    4.588517567719829,
    3.366798004085397,
    4.828809921431431,
    2.2318666631828785,
    2.537413869232929,
    1.297168701817814,
    1.10969385846103,
    0.4931110270256889,
    1.2963638192723101,
    2.0627518546671295,
    0.7961813777321055,
    1.1394392370420743,
    0.9097703747186193,
    0.42279829221599524,
    1.126234985755817,
    0.34824174797497365,
    2.482940429805271,
    0.5215232698154503,
    2.3494778313026545,
    2.2618117037465257,
    1.5722909313246074,
    1.8100147099930342,
    2.234392976404466,
    2.2147619288542906,
    0.21309672906975452,
    1.2558384136889733,
    1.7978788113857542,
    2.356781908640397,
    1.5508750054092906,
    2.4607390205284454,
    1.4356677525736574,
    2.321073001868587,
    3.447751919042725,
    8.642480491127081,
    1.376730546179408,
    1.2961716070980496,
    1.2323013881525573,
    1.6650311234745778,
    3.8671910832898884,
    4.473181675353705,
    3.922442366268285,
    1.2611460084255757,
    1.2100652730636063,
    0.8298277797599036,
    2.0748483940404965,
    2.42389004786284,
    0.03760167428659326,
    1.023243407069944,
    3.2966762219268873,
    1.2250234225185965,
    1.0679566207873525,
    0.9900481284441426,
    2.503256884509391,
    1.1554501292499724,
    2.33401816197923,
    2.3070422597452196,
    2.167843311938213,
    1.8315956598944643,
    0.10396981089493267,
    2.0697425942765064,
    1.5095548167145783,
    2.0675725093397204,
    1.3264268699644197,
    0.7477510509903914,
    1.216122196124698,
    5.373943835993704,
    0.3202968607854637,
    1.5462011719460849,
    0.8086804701395354,
    1.1214389770423197,
    4.7496288193932585,
    2.98091760366521,
    2.7302494692290016,
    1.8140730877319977,
    0.44002731766759806,
    2.0376439450845063,
    3.1673416459955073,
    2.3734736815105624,
    1.8441890401031373,
    2.300561978025307,
    1.643163243761004,
    2.7791255163416957,
    2.5654075875078077,
    2.281048562081537,
    2.2937539697438245,
    2.6853977845065273,
    3.065459074040157,
    1.7890163255363618,
    4.2732338517783175,
    0.3980765977248791,
    1.329692901157479,
    1.1239339642486619,
    3.355741257773471,
    3.8940858038151953,
    0.2663661883806457,
    2.4948651484571087,
    4.293999386841952,
    2.176357503325391,
    2.2289891493538416,
    1.337934925147027,
    2.139052146880153,
    6.255816422573978,
    2.316073803227704,
    2.356899692885511,
    2.757770488905236,
    0.6802427641625335,
    1.026046024000329,
    1.5593118518896356,
    1.5226600846819707,
    1.0562276592821758,
    1.8994580028110786,
    1.8100706639990092,
    0.5219913934885233,
    1.9264658142773958,
    3.0441687520308665,
    1.513023802117667,
    2.0867767408562896,
    3.245863629333211,
    2.313351700018162,
    1.6171811961192495,
    1.8446266662332993,
    3.4668792121392316,
    2.1532111267208394,
    0.8210686109621502,
    0.6820027983766467,
    2.6241017048603323,
    1.6462513303415613,
    1.4625868445859818,
    1.3416008715087426,
    1.2814727724558383,
    1.9636920330084802,
    1.8386938109880337,
    1.9486571506118564,
    1.9773597294433738,
    1.397895961906704,
    3.3230917958909045,
    2.6811217839294263,
    3.757295228491251,
    2.015507713990955,
    3.258274656286543,
    2.548267266813132,
    2.501739117384119,
    1.9756293223802894,
    1.47916202355923,
    1.4352351268751686,
    1.239429299272287,
    1.8311721933751823,
    3.6097454102205253,
    2.1735915007262774,
    1.92941112892008,
    2.5849228719746415,
    3.8978846352369607,
    2.332845792696099,
    1.7709298034567786,
    1.8918261439137292,
    3.676600201928697,
    2.1940293267325868,
    4.223024500940722,
    0.4751732945474732,
    1.399214195371197,
    1.4559558019650378,
    5.875108093796759,
    0.9526040249555462,
    1.0756070450694053,
    1.1628903163687339,
    0.7997532383822141,
    2.4263560971916327,
    2.7735698114894403,
    2.192201719290319,
    2.9404434153386645,
    2.8487712050736755,
    6.811850746221179,
    7.040992362135221,
    0.7682153810035711,
    5.2853978153392545,
    1.1734791546032344,
    1.300468435666421,
    1.2252811987897736,
    1.1541034945411126,
    0.2261134406428192,
    2.0467709195034782,
    1.3698163106920584,
    1.3774441262648782,
    1.6267862991006155,
    1.1773525919824512,
    0.7196449592293653,
    3.4974736936631556,
    4.274442175517209,
    2.3560917442968896,
    1.3273540639370536,
    1.0613639214636008,
    2.561759221766264,
    4.635419278405193,
    2.977208353765906,
    1.0159851797145891,
    1.4291976055356082,
    1.4485172973408666,
    2.4530813784427554,
    1.8502408491352047,
    2.139488467611515,
    3.3987213368379363,
    3.6408140208436275,
    1.8133507133068316,
    1.537864668547903,
    1.404561735948455,
    2.766365073109656,
    3.3564563057586683,
    0.36704269627670255,
    1.25256858013705,
    0.8062291774582061,
    0.9720940474891903,
    0.17409593136959534,
    2.584991116935389,
    0.9399857737548769,
    1.1368285824250266,
    1.3445049171723558,
    1.581808473431633,
    1.1706271526459417,
    2.080600955324814,
    1.9304492552316135,
    2.2017177228079388,
    1.8756849647096159,
    1.7121412485431262,
    2.245645457037096,
    0.5770485466933694,
    1.4564109472760496,
    0.6763631474472156,
    2.463660984727914,
    2.225409044422826,
    0.8111125658045096,
    1.343577996398344,
    1.3766037105480728,
    3.326985565351023,
    4.208327701127545,
    1.1918492854560312,
    2.256728713617159,
    4.01620944006905,
    3.792894856002991,
    4.808157103534579,
    4.475486587408068,
    2.921058526940709,
    2.7872309533493898,
    1.5338173432082676,
    4.067500073731334,
    0.967374702297618,
    0.9749349127376794,
    1.7072979905410943,
    1.6136734707934792,
    1.7029332446876677,
    0.3173603418513885,
    1.6535464136240239,
    1.1367685201733264,
    2.0421278285541185,
    0.9900761573401117,
    3.1432385469190103,
    3.1095160726013313,
    2.9171065053429275,
    2.162801287185412,
    1.7704333168159738,
    0.1938262992532828,
    3.900691983850726,
    3.943756362249551,
    2.9281923834810706,
    2.3025952308019826,
    1.0588825942046352,
    0.8833177481431367,
    0.8001121194500835,
    0.6800794810216522,
    1.7158508120902667,
    1.4860014563563322,
    0.11121837580839267,
    1.1596622651951853,
    2.114743977171879,
    2.394037182997729,
    1.0022834465551704,
    0.9235929714648934,
    0.5484282262308053,
    1.794016622471208,
    1.5827685452358873,
    2.143920367374763,
    2.188568468416168,
    1.667040627503819,
    3.435972456021174,
    1.4293425516736342,
    2.2790385116034244,
    1.0010587366895631,
    1.5658020735129412,
    0.8413401166137476,
    0.24144963610942288,
    0.8273722088932017,
    1.6760871174806067,
    1.1619533947990022,
    1.8264780277340178,
    1.3873197898061598,
    2.607911171976879,
    2.597510951485921,
    1.536971339158421,
    1.7317075487029738,
    2.104476558766152,
    2.0065665076451134,
    1.8318153939815813,
    1.3673616380096738,
    2.319206475977039,
    1.952644828857236,
    1.6416178914353012,
    0.8301296686213699,
    1.0125307669061763,
    1.5930344108335135,
    1.2658709451745405,
    1.1794808362963058,
    2.3189961443223464,
    0.5247725552560389,
    0.8958342052802442,
    1.4703425348676555,
    1.4884497193419,
    0.9002432166250938,
    1.1708192857971673,
    0.5646413704988357,
    1.6398774077628187,
    2.4743751506834184,
    1.088826249519795,
    2.4869791379305766,
    1.7357767992851876,
    2.506542580505543,
    0.6922315562275756,
    1.4716501360708003,
    2.7705061384234533,
    3.0035056204438053,
    1.3581420785443326,
    1.016867426771231,
    0.6329522759491554,
    1.9847647990350132,
    2.070424696709777,
    1.1051654321816113,
    2.5485048459932935,
    1.46262721861914,
    0.663725136729998,
    1.9950417879350442,
    1.1727493337135644,
    0.781714297297546,
    1.0561741142976024,
    1.0300780313950433,
    0.6358518614041367,
    0.6484796786503859,
    1.6544798732537067,
    3.999978768034091,
    3.172529998146039,
    1.3896550315040856,
    0.9528916138880039,
    1.657254277034695,
    2.1634274734974346,
    1.6225850480406696,
    1.4031067706880078,
    1.0019900744545136,
    2.147481872875979,
    2.5181772921964565,
    4.2605123576081025,
    1.5650789004206187,
    1.2700194600943846,
    1.5230019397822376,
    2.8707021896279086,
    1.3439667293389774,
    1.606365833915611,
    1.9709812684250434,
    1.1200108975900724,
    2.550536413603644,
    1.1923138830066065,
    0.6026765956883551,
    1.4637706588922563,
    0.5276930189449006,
    1.3622806678739374,
    2.268957882555179,
    2.5422253750564168,
    2.424103464725744,
    0.6678220356029543,
    5.051528291246991,
    6.270336491209433,
    20.27614368631693,
    11.05403138673492,
    2.621938338185298,
    2.3075864953679623,
    2.290895862429485,
    0.9471326189258257,
    1.0383703475643056,
    1.014331583171743,
    0.5252790395695418,
    0.440119586512283,
    1.637072695003244,
    0.867974664555541,
    1.026430539488549,
    1.5774631235091818,
    0.7454933377184527,
    1.574808475456595,
    2.44719578098622,
    3.6820043392797364,
    1.4876799281978008,
    1.4095563436721763,
    0.383945787102397,
    0.48493166068372945,
    0.5662704101300227,
    1.5719960676795184,
    1.8923673476471643,
    0.2230439230846198,
    0.1447217677547685,
    0.7203755214574357,
    0.8403498124125562,
    1.88794689941187,
    1.499329845025266,
    2.2834607876175324,
    9.506999257077538,
    2.1593760605442665,
    1.0280846064554967,
    1.5702939517791425,
    2.1377382130535265,
    1.4375828195630544,
    0.44145553773678153,
    0.8871287639180375,
    0.6502951430162248,
    0.7795714784112928,
    0.4580860632637241,
    1.831539502132918,
    2.3879541717253723,
    1.2752961741669042,
    3.7392581608952455,
    0.5723682300551777,
    1.4810580660387052,
    1.9141132719054088,
    1.4450924004224814,
    0.26953645045501023,
    0.5998085159442984,
    1.4586206085499174,
    1.1880787987624133,
    0.6357380724837186,
    2.0694848569476436,
    3.2439772003389424,
    9.288747827952994,
    0.6006121622221018,
    1.845249675890455,
    2.1208988891357827,
    2.0661758148956486,
    7.873435405583519,
    45.147222764188065,
    5.695940658368381,
    2.252081852174925,
    2.76982211163762,
    0.3722240317654173,
    1.0050085045199146,
    0.8893025503217241,
    0.8749143930824527,
    2.330627862175696,
    3.2223811178027657,
    1.657940350799803,
    1.5781859724701246,
    2.5643475004650385,
    1.5424689660275708,
    2.8884329883427946,
    2.4487480782245585,
    10.550018567538382,
    1.5606303380813737,
    1.5731679319201521,
    0.24077722241393565,
    1.5722864891034005,
    0.5899140611492053,
    2.2216047328093746,
    3.4796022170951426,
    0.33025399206686745,
    4.167248273635962,
    1.6069429443449585,
    0.9731672169937449,
    0.5746782880006371,
    1.4884465191954037,
    2.500416808257965,
    8.559228562657296,
    45.97230330162545,
    7.728734332673713,
    3.6059449828039774,
    3.869401541094463,
    2.5878277052576375,
    2.19847503118881,
    0.6925157604235439,
    1.109741405873091,
    3.027633150775519,
    7.107121144284022,
    2.421367153657448,
    1.3945663954624579,
    2.309660505340249,
    2.674632411500405,
    2.9165014437877366,
    1.9629173969467573,
    3.785501873432019,
    0.5884068520825204,
    0.816981204447026,
    2.3592333417678564,
    1.6996029629416167,
    1.298501610323722,
    0.8032524033707086,
    2.8670476635804834,
    2.1437169277924943,
    1.2123340864340209,
    3.2645786721851517,
    3.174108144584908,
    1.3722790400374971,
    1.2781512499373422,
    2.4806152810568167,
    9.704579935971045,
    24.7886537465968,
    4.567027033284056,
    2.1456933651978294,
    1.991332021453321,
    0.8126575347940318,
    2.199508028461115,
    0.8277909709014497,
    1.685482834002725,
    0.7759338571785502,
    0.5566441924013765,
    0.4433588138270122,
    0.362472328751127,
    1.1955179485727119,
    1.4243592704195625,
    1.9020966053753898,
    1.4940718575604068,
    0.5538374706442384,
    1.6280275147527945,
    1.4048446055022916,
    1.6634973732575662,
    1.096448431630115,
    1.2560332014160172,
    1.3497252290606303,
    1.816152736696811,
    1.385525512068042,
    2.087559638917237,
    2.9732330959391127,
    1.8508827659100107,
    1.7779377413638642,
    2.068003266462675,
    0.45915693650991046,
    1.7892856742282661,
    4.1069090679501405,
    2.309673430746876,
    3.18853939420182,
    1.4458522692232239,
    2.3064986667582827,
    0.5028901791577176,
    2.8916981278544864,
    1.4598865206180687,
    0.5543115856345899,
    0.9558826269837803,
    1.766801571862756,
    0.755242503054558,
    0.5707390087269385,
    1.7169354784362436,
    2.3091311659321847,
    2.236559223770248,
    0.8568578396069716,
    0.8974202515677882,
    1.430157211879146,
    2.011845216333109,
    2.2484576001656817,
    1.141487984406577,
    1.455369631273083,
    1.4958280084443336,
    1.2527061143846132,
    0.18843030938720737,
    2.87298188020478,
    0.7660161363981565,
    1.2799138062124589,
    1.404701121813369,
    1.7696209233545501,
    2.3165243229140557,
    3.0769250463861777,
    1.9433075811165152,
    0.8684971790254573,
    1.0467247338229608,
    0.3878253435656433,
    0.15074009935026508,
    0.33997675163088287,
    3.1354715913246998,
    2.0277176045809324,
    1.9892635698087902,
    0.6960882201068993,
    2.2473198686991935,
    0.5330822699204699,
    0.27291999426391184,
    1.003964238923599,
    2.5318219330341387,
    1.130997998745547,
    1.2831437181871252,
    0.44735759708670514,
    0.5997505133159645,
    2.3066581673993123,
    1.650552671491664,
    1.0760145153506275,
    1.5561416833282486,
    1.1237311737661997,
    1.767298998062287,
    2.513626282081111,
    2.2795229618680453,
    1.2840938667637083,
    3.2411419167832802,
    3.9827505033486856,
    0.500358977484637,
    0.5813387907192462,
    1.3264523903362004,
    0.6509566565967855,
    0.4082860140868371,
    1.053631949980304,
    0.6488298052645911,
    1.315046589591632,
    0.9303693983377496,
    0.6945225331568295,
    1.661018357019465,
    1.4869935064639068,
    0.9900789171288117,
    0.5758441866132178,
    0.5908679167454826,
    2.2330701520893834,
    0.7847568381129789,
    1.3863783772294607,
    0.8037485012595569,
    0.37491010205805436,
    1.295777459151909,
    0.8533740899724244,
    0.8641543504926045,
    0.6252496065390807,
    0.38838675062549743,
    0.2749307387308004,
    1.5072425254785837,
    1.2288875158323935,
    1.9797366896097928,
    0.6980743563575992,
    2.2085430203298713,
    1.8109355829895306,
    1.574779604706051,
    0.9408784619185379,
    2.862550230816514,
    2.4958898645760765,
    1.0474941877594826,
    1.0614658798862016,
    1.1141155315205111,
    2.7252612957040974,
    2.2226600568146955,
    2.2667811587995277,
    2.3916014243805614,
    2.1065935842846284,
    0.6752738575426229,
    2.0364636215013636,
    2.529061723344151,
    1.667601863936694,
    1.0372017829512872,
    1.1989798048947609,
    4.766313717651635,
    2.5136781212766177,
    1.4169854264215662,
    3.0227413400331713,
    1.4947318794189883,
    1.7006558422819902,
    3.3873063764476714,
    1.9278820889805697,
    0.9120501064525385,
    1.0832341656327196,
    1.6078210730461608,
    2.2814664199356565,
    1.0553166303461072,
    1.7008390879557957,
    0.4729450619034053,
    0.8383572583197083,
    2.055330270294184,
    1.703429733363018,
    1.2033913832281113,
    1.7094295620126576,
    1.8539357171141297,
    1.7680762364722318,
    1.351859995901061,
    1.4251355324745476,
    1.484126340944347,
    1.3340564537759985,
    1.7544733939649415,
    2.7742056466367773,
    1.2204617036640062,
    1.54645122636362,
    1.1133606297491239,
    1.3546523442565497,
    2.329816813352805,
    0.7751400021602793,
    2.1382867177956304,
    2.0936991148857933,
    1.9718905549380061,
    2.862453944859151,
    0.7283849509819079,
    3.0342814489680316,
    1.5938294596624074,
    2.8406518007066484,
    1.9803383398488952,
    1.7929400452597435,
    2.4844832764160714,
    1.4093964052292316,
    1.5376078221722438,
    0.7464934748350025,
    1.1140668075854223,
    0.31014890008510354,
    1.396362954051964,
    0.2198393025393563,
    1.278061953769372,
    1.1550471986480106,
    2.4920317234416482,
    1.2076584597434772,
    1.8865224391924067,
    2.3162180075845713,
    2.4673666018359888,
    1.471811387665251,
    0.8148793321370748,
    1.3353989858654494,
    1.4271694756822584,
    0.9353951346360531,
    0.648846930721565,
    0.9167725544615078,
    0.5272129208843512,
    2.028709794939325,
    1.5599521968876544,
    2.0920628384997793,
    0.9072545570280444,
    2.7913272217227303,
    4.480910845239609,
    1.1508452589839515,
    1.8097305399950772,
    1.3382325669869573,
    1.9855030175199084,
    1.2880608195106609,
    1.564360949480237,
    1.7471093691072652,
    2.49069964406207,
    0.5466886422041861,
    2.9200798245337043,
    1.4110176631110982,
    0.8045738475015916,
    1.5178685102998803,
    1.7014177674482995,
    0.7852632508533973,
    1.6926791090397864,
    3.4905962911687767,
    2.436687941474425,
    4.426467553103845,
    1.1252410368235288,
    2.4824637588283567,
    0.8454992039074192,
    1.6225189543937901,
    2.574879314596661,
    1.9693533563147254,
    1.7593517786199824,
    1.242588754528521,
    2.6583190050057794,
    2.885291593894131,
    2.9380541596870327,
    2.724394680852857,
    10.706454129668472,
    1.0816675637263407,
    0.6827406171442693,
    1.1410857435279143,
    0.9921178269976714,
    1.7891078723435256,
    1.1556018017024243,
    0.3446846461831522,
    0.9762880691303569,
    1.7467706492794473,
    1.5088575841639071,
    3.6545829884745977,
    0.9824066814275081,
    1.4984582719551605,
    0.9357164266161733,
    1.6898880252866555,
    9.88312214127987,
    6.117315879737833,
    9.535897424592799,
    9.355633922329888,
    4.318736872641009,
    2.709940668988446,
    0.6153843819120263,
    3.1249173161102832,
    2.403833132959294,
    3.1265115351592345,
    2.9407956551992434,
    1.4955856036721287,
    1.4511452791120154,
    1.74554972347721,
    0.7989864198065992,
    3.5707455081708277,
    24.383261523225812,
    1.6611219522437117,
    3.514354137562289,
    1.2353443092332999,
    1.4234387995084545,
    0.6646573731961534,
    2.3835080847923007,
    2.818807162578543,
    1.9168368181311488,
    0.304399407944308,
    0.6259287530847916,
    0.6535403013923261,
    1.9418622150769071,
    8.570790958285674,
    15.746596103376376,
    6.074873290720683,
    4.3819636788148015,
    4.168274030822608,
    7.760788993613076,
    5.457690869712536,
    12.790036073030384,
    0.7167127417383001,
    3.1980390039216213,
    2.4505942539438488,
    2.1951322540836227,
    2.523031323679743,
    2.098585094186468,
    3.1234575649435903,
    3.2197741571231817,
    3.9758871350732568,
    2.9378797827086705,
    0.9894388457197063,
    5.015364930498015,
    3.4630393834843822,
    2.496786644615976,
    2.3492345338836134,
    1.4592682150323857,
    2.8035725065019306,
    1.5753894511060433,
    2.599274651755803,
    0.8237424067082686,
    1.2774092345191217,
    2.4497020947416814,
    1.5298165799400878,
    2.304254493074606,
    1.7574453359832143,
    2.216934986346096,
    1.3036710861429446,
    4.554453727040393,
    0.45829839610624423,
    2.3370357682234286,
    3.223802437152809,
    3.5421917582136064,
    2.579629547215897,
    1.9135194223295784,
    2.393944693075492,
    2.98028053273014,
    2.114045234749131,
    3.128793070934469,
    1.5911333229210398,
    2.472307197640565,
    3.5142495171078916,
    3.9582311889144384,
    2.678391739033311,
    4.436157248775195,
    2.511036352290584,
    2.174000411190878,
    2.1365803715163265,
    2.6550553752168375,
    1.6916160183718705,
    2.7300795174198216,
    1.9537893358108196,
    1.9950481941215903,
    4.524077268176469,
    2.2251222956993035,
    3.0964432863302473,
    3.526719273746438,
    2.5182122495865387,
    1.4044930332083667,
    3.291474731079201,
    3.9873312798370986,
    2.8037163691218803,
    1.1088743596750907,
    4.274867163365924,
    2.357875543363734,
    4.127713188173376,
    2.211158432180529,
    2.881441548514059,
    3.3498814754097275,
    4.401665965647533,
    3.0173260057550366,
    2.8673831314927765,
    3.435065168004505,
    1.9006279173102587,
    3.9716334581995354,
    2.607283893425959,
    2.681411034771132,
    3.7618204797169974,
    4.31075004212322,
    2.798912632045626,
    1.652228501190968,
    2.7788071741448825,
    3.457652206107611,
    1.5177544525522686,
    3.908484490316244,
    1.981300497071309,
    1.820679329584171,
    3.2313826671752364,
    2.136414574374209,
    3.685025831670783,
    1.988840975378714,
    4.207184931342459,
    3.760997377203552,
    3.235159224160931,
    2.429201258874412,
    4.95649066705368,
    2.4914706041386383,
    3.06957601408435,
    2.9444278937580757,
    3.0865699778868683,
    2.877007082373323,
    2.1479071036341777,
    3.387519663627412,
    3.086738395649779,
    3.3349054722586233,
    2.348845152041364,
    3.431733956308652,
    3.3871237841815733,
    5.327672337095562,
    5.77266141029359,
    5.144872890909832,
    3.6113396436981318,
    3.2941078663621894,
    2.388252659181818,
    3.5827192899830855,
    4.04959955243081,
    2.228280888692075,
    4.578700594434401,
    3.903263092276347,
    4.042665378287831,
    4.215815630091582,
    4.329664505972056,
    4.836990589222931,
    3.7791372981829934,
    4.7673528992946155,
    4.303798920467578,
    3.180968001600427,
    4.400268457426791,
    5.196479202482114,
    5.814492323967062,
    3.9234433237442365,
    4.628636558560822,
    5.956544298267843,
    8.126825701912942,
    4.5326425236706465,
    5.152808921421291,
    5.4752318216895075,
    4.631306381343255,
    5.217535619121742,
    5.545203683478934,
    4.8447317947219215,
    5.483976697661504,
    5.08739301165438,
    6.90528388554612,
    5.923939826551061,
    6.205790693457656,
    7.372883200199192,
    5.032894945399739,
    5.555328466424951,
    6.982213210217906,
    6.399626785681187,
    8.924099501455556,
    8.725952131381202,
    8.033846844415207,
    8.899522776666737,
    20.886742377284268,
    8.194976956095246,
    1.8145768841049834,
    5.685461834449261,
    5.259634666558388,
    5.613951990801421,
    6.379888651132774,
    8.600224860657804,
    9.435446396180337,
    8.26983323745846,
    6.0686422003629135,
    6.496288245156401,
    6.268577748089238,
    4.136176824131655,
    0.2175324541749482,
    11.061907880535857,
    201.17173789019142,
    50.464111186385374,
    31.78944032616004,
    29.818043914407372,
    27.3351676387402,
    26.381591467410534,
    26.422938968452854,
    28.869908522606206,
    31.42683679097284,
    34.492510047085084,
    38.50944461120966,
    43.24538130797392,
    51.32588773190916,
    66.05570313798476,
    92.29601182482207,
    161.8978262637387,
    830.1730273642378,
    244.3132269042857,
    101.27472280136121,
    62.152706265316446,
    44.3088914341237,
    32.711217118672856,
    25.6135597911561,
    20.039795330863143,
    16.120460203038068,
    14.564702690239798,
    10.614943075258472,
    9.551371664564476,
    6.037403764822291,
    7.49931529194457,
    6.199690015943021,
    6.37684006077778
  ];


  constructor(
    public dataStreamService: DataStreamService,
    public plotly: PlotlyService,
    private widgetsService: WidgetsService
  ) {
    super(dataStreamService, plotly);
  }

  configure() {
    super.configure();
    this.chartData = [];
    this.samplesDuration = 0;
    this.samplesSize = [];
    this.lastSampleTick = 0;

    if (!(this.widget.config != null
      && this.widget.config.packetId != null
      && this.widget.config.packetFields != null
      && Object.keys(this.widget.config.packetFields).length > 0)) {
      this.isConfigured = false;

      setTimeout(() => {
        this.callBackEnd = true;
      }, 500);

      return;
    }
    const cfg = this.widget.config;
    cfg.layout = cfg.layout || {};
    cfg.layout.margin = {
      l: 32,
      r: 0,
      b: 32,
      t: 0,
      pad: 0
    };
    cfg.seriesConfig = cfg.seriesConfig || [];
    // cfg.packetId = this.widget.config.packetId || cfg.packetId;
    // cfg.packetFields = this.widget.config.packetFields || cfg.packetFields;
    // Set counter for configuring series axes
    let axisCount = 0;
    // Create time series to display for this chart
    const seriesItems: TimeSeries[] = [];
    // Set layout for the first two axes
    Object.keys(cfg.packetFields).forEach((fieldId) => {
      const fieldName = cfg.packetFields[fieldId];
      seriesItems.push(new TimeSeries(fieldName));
      // Set the chart axis and legend
      axisCount++;
      cfg.seriesConfig[axisCount - 1] = {
        series: fieldName,
      };
    });
    this.chartData.push(...seriesItems);

    setTimeout(()=> {
      this.callBackEnd = true;
    }, 500);

    // Bind time series to the chart
    this.addFftSeries(this.chartData);

    // Create the real time data channel
    const dataPacketFilter = new DataPacketFilter(cfg.packetId, cfg.packetFields);

    this.subscribeRealTimeStream(dataPacketFilter, (eventData) => {
      const date = eventData[0]; // TODO: this field is actually ignored
      const field = eventData[1];
      // Map received packet field to the corresponding time series
      Object.keys(field).map((k) => {
        const fieldId = this.getFieldIdFromName(k);
        const fieldName = cfg.packetFields[fieldId];
        let valuesArray = field[k];

        // TODO: this is a temporary hack to simulate incoming data
        // TODO: this is a temporary hack to simulate incoming data
        valuesArray = this.fourierData;
        // TODO: this is a temporary hack to simulate incoming data
        // TODO: this is a temporary hack to simulate incoming data

        if (!Array.isArray(valuesArray)) {
          console.log('WARNING: FourierChart input data is not an array!');
          return;
        }

        let series = null;
        let seriesIndex = -1;
        for (let s = 0; s < this.chartData.length; s++) {
            const cs = this.chartData[s];
            if (cs.name === fieldName) {
                series = cs;
                seriesIndex = s;
                break;
            }
        }
        if (series != null && !this.isPaused) {
          const Plotly = this.plotly.getPlotly();
          const graph = this.plotly.getInstanceByDivId(`widget-${this.widget.id}`);
          const sampleDuration = +this.widget.config.sampleRate;
          const sampleTick = sampleDuration / valuesArray.length;

          // recreate time ticks for all values in the current sample
          const relativeTimestamps = [];
          for (let i = 0; i < valuesArray.length; i++) {
            relativeTimestamps.push(this.lastSampleTick + sampleTick*i);
          }
          this.lastSampleTick += sampleDuration;

          const bufferSamples = this.widget.config.bufferSamples || 20;
          if (this.samplesSize.length >= bufferSamples) {
            this.samplesSize.shift();
          }
          this.samplesSize.push(valuesArray.length);

          if (graph) {
            Plotly.extendTraces(graph, {
                x: [relativeTimestamps],
                y: [valuesArray]
            }, [seriesIndex], this.samplesSize.reduce((a, b) => a + b, 0));

            // set x range to show only showSamples samples
            const showSamples = this.widget.config.showSamples || 2;
            const rangeStart = this.samplesDuration - (this.widget.config.sampleRate * (showSamples - 1));
            const rangeEnd = rangeStart + this.widget.config.sampleRate * showSamples;
            // relayout x-axis range with new data
            if (graph) {
              Plotly.relayout(graph, {
                'xaxis.range': [rangeStart, rangeEnd],
              });
              /*
              Plotly.animate(graph, {
                layout: {
                  xaxis: {range: [rangeStart, rangeEnd]},
                }
              }, {
                transition: {
                  duration: 500,
                  easing: 'cubic-in-out'
                }
              });
              */
            }

            this.samplesDuration += this.widget.config.sampleRate;
          }
        }
      });
    });
  }

  onToolbarAction(action: string) {
    switch (action) {
      case 'toolbar:play':
        this.isPaused = false;
        this.play();
        break;
      case 'toolbar:pause':
        this.isPaused = false;
        this.pause();
        break;
    }
    this.widgetAction.emit({ widget: this.widget, action });
  }

  addFftSeries(timeSeriesData: TimeSeries[], config?: any): void {
    timeSeriesData.forEach(ts => {
      const tsd = {
        name: ts.name,
        x: ts.x,
        y: ts.y,
        line: {
//          dash:	'dot',
          shape: 'linear',
          width: 1,
//          color: '#1f77b4',
          simplify: true
        },
        type: 'scatter'
      };
      // apply config options stored in `this.seriesConfig` parameter
      this.applyStoredConfig(tsd);
      // override any setting passed via `config`
      if (config) {
        Object.assign(tsd, config);
      }
      // FIXME: should replace item with same index
      this.graph.data.push(tsd);
    });
  }

  private getFieldIdFromName(fieldName) {
    const cfg = this.widget.config;
    for (const id of Object.keys(cfg.packetFields)) {
      if (cfg.packetFields[id] === fieldName) {
        return id;
      }
    }
  }
}
