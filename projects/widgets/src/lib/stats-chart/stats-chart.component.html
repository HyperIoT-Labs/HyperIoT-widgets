<div class="container-widget">

    <header *ngIf="!isModalView">{{widget.name}}</header>

    <div id="loader" *ngIf="!callBackEnd">
        <div class="lds-ripple">
            <div></div>
            <div></div>
        </div>
    </div> <!-- END LOADER -->

    <plotly-plot
        *ngIf="graph.data && graph.data.length > 0 && callBackEnd"
        divId="widget-{{widget.id}}"
        [data]="graph.data"
        [layout]="graph.layout"
        [useResizeHandler]="true"
        [config]="{displayModeBar: false}"
        [style]="{position: 'relative', width: '100%', height: '100%'}"
        ></plotly-plot>
    
    <div *ngIf="!isConfigured" class="configure-notice">
        <div>
            <strong i18n="@@HYT_common_not_configured">Click 'Settings' button to configure.</strong>
        </div>
    </div>
    
    <hyperiot-common-toolbar #toolbar *ngIf="callBackEnd" [toolbarIsVisible]="!isModalView" (action)="onToolbarAction($event)" [config]="{
        showClose: true,
        showSettings: true,
        showTable: isConfigured
    }"></hyperiot-common-toolbar>

    <hyperiot-common-toolbar *ngIf="!callBackEnd" [toolbarIsVisible]="!isModalView" (action)="onToolbarAction($event)" [config]="{
        showClose: true
    }"></hyperiot-common-toolbar>


</div>

